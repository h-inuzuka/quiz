{% extends "frame.twig" %}
{% block content %}
    {% autoescape true %}
        <form action="/quiz/answer/end" method="post">
        {% for question in question_list %}
        第{{loop.index}}問
        <br>
            {{ question['content'] }}
        <br>
            <input type="radio" class="radioselect" value="1" name="answer{{loop.index}}">{{ question['choice1'] }}<br>
            <input type="radio" class="radioselect" value="2" name="answer{{loop.index}}">{{ question['choice2'] }}<br>
            <input type="radio" class="radioselect" value="3" name="answer{{loop.index}}">{{ question['choice3'] }}<br>
            <input type="radio" class="radioselect" value="4" name="answer{{loop.index}}">{{ question['choice4'] }}
        <hr>
        {% endfor %}
                <input type="submit" value="答え合わせ" class="btn btn-primary" onclick="check();">
                <input type="hidden" name="answer_id" value="{{ answer_id }}">
                <input type="hidden" name="{{csrf_key}}" value="{{csrf_token}}">
            </form>
            <script>
                function check(){
                  for(var i = 1; i <= 10; i++){
                    if($('input[name=answer' + i +']:checked').val()){
                        continue;
                    } else {
                        alert("回答されてない問題があります。すべての問題に回答してください");
                        event.preventDefault();
                        break;
                    }
                  }
                }
            </script>
    {% endautoescape %}
{% endblock %}